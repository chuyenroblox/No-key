
-- ThanhHub.lua (file txt hoàn chỉnh)

-- Module dịch
local TranslationModule = {}

TranslationModule.languages = { "vi", "en" }
TranslationModule.currentLanguage = "vi"
TranslationModule.dictionary = {
    vi = {
        welcome = "Chào mừng đến với Thanh Hub!",
        loading = "Đang tải script...",
        errorLoad = "Lỗi khi tải script!",
        toggleLanguage = "Chuyển sang tiếng Anh",
        tabAutoFarm = "Tự động farm",
        tabAutoQuest = "Tự động nhiệm vụ",
        tabAutoStat = "Tự động tăng chỉ số",
        tabAutoPick = "Tự động nhặt trái",
        tabSettings = "Cài đặt",
        btnEnable = "Bật",
        btnDisable = "Tắt",
        msgNoKey = "Không cần key, script chạy luôn.",
        msgLagWarning = "Cảnh báo lag ngẫu nhiên đang bật.",
    },
    en = {
        welcome = "Welcome to Thanh Hub!",
        loading = "Loading script...",
        errorLoad = "Error loading script!",
        toggleLanguage = "Switch to Vietnamese",
        tabAutoFarm = "Auto Farm",
        tabAutoQuest = "Auto Quest",
        tabAutoStat = "Auto Stats",
        tabAutoPick = "Auto Pick Fruits",
        tabSettings = "Settings",
        btnEnable = "Enable",
        btnDisable = "Disable",
        msgNoKey = "No key needed, script runs immediately.",
        msgLagWarning = "Random lag warning enabled.",
    }
}

function TranslationModule:GetText(key)
    local lang = self.currentLanguage
    if self.dictionary[lang] and self.dictionary[lang][key] then
        return self.dictionary[lang][key]
    else
        return key
    end
end

function TranslationModule:SetLanguage(lang)
    for _, v in ipairs(self.languages) do
        if v == lang then
            self.currentLanguage = lang
            return
        end
    end
end

-- UI chính
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "ThanhHubUI"
ScreenGui.Parent = game.CoreGui

local language = TranslationModule.currentLanguage

local function translate(key)
    return TranslationModule:GetText(key)
end

-- Background
local MainFrame = Instance.new("Frame")
MainFrame.Size = UDim2.new(0, 400, 0, 350)
MainFrame.Position = UDim2.new(0.5, -200, 0.5, -175)
MainFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
MainFrame.BorderSizePixel = 0
MainFrame.Parent = ScreenGui

-- Title
local Title = Instance.new("TextLabel")
Title.Size = UDim2.new(1, 0, 0, 40)
Title.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
Title.TextColor3 = Color3.new(1,1,1)
Title.Font = Enum.Font.GothamBold
Title.TextSize = 20
Title.Text = translate("welcome")
Title.Parent = MainFrame

-- Tab buttons container
local TabContainer = Instance.new("Frame")
TabContainer.Size = UDim2.new(1, 0, 0, 40)
TabContainer.Position = UDim2.new(0, 0, 0, 40)
TabContainer.BackgroundTransparency = 1
TabContainer.Parent = MainFrame

local tabs = {
    {Name = "AutoFarm", TextKey = "tabAutoFarm"},
    {Name = "AutoQuest", TextKey = "tabAutoQuest"},
    {Name = "AutoStat", TextKey = "tabAutoStat"},
    {Name = "AutoPick", TextKey = "tabAutoPick"},
    {Name = "Settings", TextKey = "tabSettings"},
}

local tabButtons = {}
local tabFrames = {}

local function clearTabs()
    for _, frame in pairs(tabFrames) do
        frame.Visible = false
    end
    for _, btn in pairs(tabButtons) do
        btn.BackgroundColor3 = Color3.fromRGB(40,40,40)
    end
end

for i, tab in ipairs(tabs) do
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(0, 80, 1, 0)
    btn.Position = UDim2.new(0, (i-1)*80, 0, 0)
    btn.BackgroundColor3 = Color3.fromRGB(40,40,40)
    btn.TextColor3 = Color3.new(1,1,1)
    btn.Font = Enum.Font.GothamSemibold
    btn.TextSize = 14
    btn.Text = translate(tab.TextKey)
    btn.Parent = TabContainer
    tabButtons[i] = btn

    local frame = Instance.new("Frame")
    frame.Size = UDim2.new(1, -10, 1, -50)
    frame.Position = UDim2.new(0, 5, 0, 50)
    frame.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
    frame.Visible = false
    frame.Parent = MainFrame
    tabFrames[i] = frame

    btn.MouseButton1Click:Connect(function()
        clearTabs()
        frame.Visible = true
        btn.BackgroundColor3 = Color3.fromRGB(70,70,70)
    end)
end

-- Mặc định mở tab đầu tiên
tabButtons[1].BackgroundColor3 = Color3.fromRGB(70,70,70)
tabFrames[1].Visible = true

-- Chức năng ví dụ trong AutoFarm tab
local autoFarmToggle = Instance.new("TextButton")
autoFarmToggle.Size = UDim2.new(0, 100, 0, 40)
autoFarmToggle.Position = UDim2.new(0, 10, 0, 10)
autoFarmToggle.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
autoFarmToggle.TextColor3 = Color3.new(1,1,1)
autoFarmToggle.Font = Enum.Font.GothamSemibold
autoFarmToggle.TextSize = 16
autoFarmToggle.Text = translate("btnEnable")
autoFarmToggle.Parent = tabFrames[1]

local autoFarmEnabled = false
autoFarmToggle.MouseButton1Click:Connect(function()
    autoFarmEnabled = not autoFarmEnabled
    if autoFarmEnabled then
        autoFarmToggle.Text = translate("btnDisable")
        -- TODO: Bật auto farm
    else
        autoFarmToggle.Text = translate("btnEnable")
        -- TODO: Tắt auto farm
    end
end)

-- Chức năng đổi ngôn ngữ trong Settings tab
local langButton = Instance.new("TextButton")
langButton.Size = UDim2.new(0, 180, 0, 40)
langButton.Position = UDim2.new(0, 10, 0, 10)
langButton.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
langButton.TextColor3 = Color3.new(1,1,1)
langButton.Font = Enum.Font.GothamSemibold
langButton.TextSize = 16
langButton.Text = translate("toggleLanguage")
langButton.Parent = tabFrames[5]

langButton.MouseButton1Click:Connect(function()
    if language == "vi" then
        language = "en"
    else
        language = "vi"
    end
    TranslationModule:SetLanguage(language)
    -- Cập nhật UI text
    Title.Text = translate("welcome")
    for i, tab in ipairs(tabs) do
        tabButtons[i].Text = translate(tab.TextKey)
    end
    autoFarmToggle.Text = autoFarmEnabled and translate("btnDisable") or translate("btnEnable")
    langButton.Text = translate("toggleLanguage")
end)
